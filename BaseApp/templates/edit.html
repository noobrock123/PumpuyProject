 <!DOCTYPE html>

{% load static %}
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css'><link rel="stylesheet" href="{% static 'edit.css' %}">

</head>
<body>
    <div class="intersection">
        <h1>กำหนด Loop</h1>
    </div>
    
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <!-- <input type="hidden" value={{ video }}>
        <p> {{name}}</p> -->

            <div class="flex-container">
                <div class="box">
                    <video id="video" src="../../../BaseApp/intersectionData/{{ name }}/videos/{{ video_id }}/{{ video_name }}.mp4" autoplay controls loop></video>
                    <div >
                        <p style = "padding-left : 72% ;" >Width: </p>
                        <p style = "display: inline-block; "> 0 </p>
                        <p style = "padding-left : 70% ;display: inline-block; " id="cont_w"></p>
                    </div>
                    <canvas id="canvas"></canvas>
                    <div style = "padding-right : 75vh">
                        <p style = "padding-bottom : 20px">Height: </p>
                        <p id="cont_h"></p>
                    </div>
                </div>
                    <div class="box">
                        
                        {% comment %} This is loop box {% endcomment %}
                        <div id="choice">
                            <input type="button" id="create" name="select" value="Select existing loop" onclick="select_loop()">
                            <input type="button" id="create" value="Create New loop" onclick="create_loop()">
                        </div>
                        
                        <div id="hitboxs">
                            <select name="select_hitboxs" id="select_hitboxs" hidden>
                                {% for hitbox in hitboxs %}
                                <option id="hitbox{{ forloop.counter0 }}" value="{{ hitbox }}">{{ hitbox }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div id="regForm">
                            
                            
                            <!-- One "looptab" for each step in the form: -->
                            <div class="looptab" id="LoopField" name="Loop">
                                <!-- <div class="loop_field" name="Loop[n]">
                                <input type="text" name="coor" placeholder="coor">
                            </div> -->
                            </div>
                        
                        <div style="overflow:auto;">
                            <div style="float:center;">
                                <!-- <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                                    <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button> -->
                                    <button type="button" id="add" onclick="add_loop()" style="justify-content: center;" hidden>Insert loop</button>
                                    <button type="button" id="remove" onclick="remove_loop()" style="justify-content: center;" hidden>remove loop</button>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>

            <input type="radio" id="rad" name="radio" value="Fast Upload">Fast Upload<br>
            
            <input type="radio" id="rad" name="radio" value="Fast Upload">Slow Upload
            <br><br>
            
            <div class = "Permission">
                <label for="Permission">Permission:</label>
                <select id="Permission" class="dropdown-select">
                    <option value="volvo">Public</option>
                    <option value="saab">Private</option>
                    <option value="fiat">Organisation</option>
                    <option value="audi">Unlist</option>
                </select>
            </div>

            <input type="hidden" name="loops" id="loops" value="">
            <input type="hidden" name="video_id" id="video_id" value="{{ video_id }}">
            
            <div class = "button ">
                <button onclick="collect_loops()">Upload</button>
            </div>
        
    </div>
</form>
<script type="text/javascript" src="{% static 'tab.js' %}"></script>
</body>
</html>

