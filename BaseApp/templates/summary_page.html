{% extends 'layout.html' %}

{% block content %}

{% load static %}

<html>
    <head>
        <link rel="Stylesheet" href = "{% static 'summary_page.css' %}" type = "text/css">
        <script type="text/javascript" src="{% static 'sort.js' %}">
        </script>    
    </head>


    <h1>{{ video.video_name }}</h1>
    <a href="../../../BaseApp/intersectionData/{{ name }}/detect/{{ video_id }}/{{ video_name }}.mp4" download="" class="download">
        <button>Download</button>
    </a>
    <div class="box">
        <video id="video" src="../../../BaseApp/intersectionData/{{ name }}/detect/{{ video_id }}/{{ video_name }}.mp4" autoplay controls loop>
            <source type="video/mp4" >
        </video>
{% comment %} 
        <video id="video">
            <source src="../../../BaseApp/intersectionData/{{ name }}/detect/{{ video_id }}/{{ video_name }}.mp4" type="video/mp4">
        </video> {% endcomment %}
    </div>
    
    <div class="loop">
        <div class="left">
            <h2>loop1</h2>
            <table class="table">
                <tr class="table__row">
                    <td class="table__head">ทิศทาง</td>
                    <td class="table__head">รถยนต์</td>
                    <td class="table__head">มอเตอร์ไซค์</td>
                    <td class="table__head">รถบรรทุก</td>
                    <td class="table__head">จำนวน</td>
                </tr>
                {% for direction, vehicles in loops.loop1.items %}
                <tr class="table__row">
                    {% if direction != "SUM" %}
                        <td class="table__data">{{ direction }}</td>
                    {% for vehicle in vehicles %}
                        <td class="table__data">{{ vehicle }}</td>
                    {% endfor %}
                    {% else %}
                        <td class="table__data">{{ direction }}</td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data">{{ vehicles }}</td>
                    {% endif%}
                </tr>
                {% endfor %}
            </table>

            <h2>loop3</h2>
            <table class="table">
                <tr class="table__row">
                    <td class="table__head">ทิศทาง</td>
                    <td class="table__head">รถยนต์</td>
                    <td class="table__head">มอเตอร์ไซค์</td>
                    <td class="table__head">รถบรรทุก</td>
                    <td class="table__head">จำนวน</td>
                </tr>
                {% for direction, vehicles in loops.loop2.items %}
                <tr class="table__row">
                    {% if direction != "SUM" %}
                        <td class="table__data">{{ direction }}</td>
                    {% for vehicle in vehicles %}
                        <td class="table__data">{{ vehicle }}</td>
                    {% endfor %}
                    {% else %}
                        <td class="table__data">{{ direction }}</td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data">{{ vehicles }}</td>
                    {% endif%}
                </tr>
                {% endfor %}
            </table>
        </div>

        <div class="right">
            <h2>loop2</h2>
            <table class="table">
                <tr class="table__row">
                    <td class="table__head">ทิศทาง</td>
                    <td class="table__head">รถยนต์</td>
                    <td class="table__head">มอเตอร์ไซค์</td>
                    <td class="table__head">รถบรรทุก</td>
                    <td class="table__head">จำนวน</td>
                </tr>
                {% for direction, vehicles in loops.loop2.items %}
                <tr class="table__row">
                    {% if direction != "SUM" %}
                        <td class="table__data">{{ direction }}</td>
                    {% for vehicle in vehicles %}
                        <td class="table__data">{{ vehicle }}</td>
                    {% endfor %}
                    {% else %}
                        <td class="table__data">{{ direction }}</td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data"></td>
                        <td class="table__data">{{ vehicles }}</td>
                    {% endif%}
                </tr>
                {% endfor %}
            </table>
        </div>
        
    </div>
</html>
{% endblock %}
